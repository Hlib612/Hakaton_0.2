(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();const W="/Hakaton_0.2/assets/bed-pixel-ae4cd8b7.png",N="/Hakaton_0.2/assets/table-pixel-263024ef.png",$="/Hakaton_0.2/assets/pixel-gamechair-dd4db119.png",O="/Hakaton_0.2/assets/tallWardrobe-a0049040.png",P="/Hakaton_0.2/assets/books-pixel-01a3f5fd.png",X="/Hakaton_0.2/assets/pixel-nightstand-061ec52c.png",Y="/Hakaton_0.2/assets/pixel-computer-59721479.png",R="/Hakaton_0.2/assets/pixel-tv-2f8f765c.png",j="/Hakaton_0.2/assets/boombox-e7234035.png",K="/Hakaton_0.2/assets/pixel-flower-pot-8b293c3f.png",U="/Hakaton_0.2/assets/pixel-cooler-bd0ea9fd.png",z="/Hakaton_0.2/assets/plant-92fc7360.png",G="/Hakaton_0.2/assets/gaimingSetup-aa9eaedc.png",J="/Hakaton_0.2/assets/chairWithCat-7266a7ca.png",Q="/Hakaton_0.2/assets/bed-a7e7e7f8.png",H="/Hakaton_0.2/assets/parquet-4ba20018.png",V="/Hakaton_0.2/assets/parquet-dark-mode-81598140.png";let Z=H;function ee(t){document.querySelectorAll(".grid-cell").forEach(n=>{n.querySelector(".furniture")||(n.style.backgroundImage=`url('${t}')`)})}const E=[{type:"furniture",price:499,name:"Ліжко",image:W},{type:"furniture",price:70,name:"Стіл",image:N},{type:"tech",price:1299,name:"Комп'ютер",image:Y},{type:"decor",price:40,name:"Квітка",image:K},{type:"decor",price:259,name:"Кулер",image:U},{type:"tech",price:759,name:"Телевізор",image:R},{type:"furniture",price:200,name:"Ігрове крісло",image:$},{type:"tech",price:150,name:"Бумбокс",image:j},{type:"decor",price:99,name:"Рослина",image:z},{type:"furniture",price:199,name:"Шафа",image:O},{type:"furniture",price:99,name:"Книжки",image:P},{type:"furniture",price:99,name:"Тумба",image:X},{type:"tech",price:1199,name:"ПК 2.0",image:G},{type:"furniture",price:197,name:"Крісло",image:J},{type:"furniture",price:256,name:"Крісло",image:Q}],k={item:null},x=document.querySelector(".items"),te=document.querySelector(".grid"),ne=document.querySelector("#wallColor"),oe=document.querySelectorAll(".wall"),C=document.querySelector(".backdrop"),w=document.querySelector(".tutorial"),A=document.querySelector("#tipsContainer"),T=[document.querySelector("#tip1"),document.querySelector("#tip2"),document.querySelector("#tip3"),document.querySelector("#tip4")],ae=document.querySelector("#nextTip"),re=document.querySelector("#trueBtn"),ce=document.querySelector("#falseBtn"),S=document.querySelectorAll(".catalog-categories button");let l=0;function F(t){T.forEach((e,n)=>{e.classList.toggle("active",n===t)}),A.style.display="block"}function se(){A.style.display="none"}function ie(){C.style.display="block",w.style.display="flex"}function I(){C.style.display="none",w.style.display="none"}function le(){l=0,I(),F(l)}window.onload=()=>{localStorage.getItem("visited")||ie(),re.addEventListener("click",()=>{I(),localStorage.setItem("visited","true")}),ce.addEventListener("click",()=>{le()}),ae.addEventListener("click",()=>{l++,l>=T.length?(se(),localStorage.setItem("visited","true")):F(l)})};function de(t){return t==="all"?E:E.filter(e=>e.type===t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function q(t){const e=document.createElement("div");return e.className="furniture",e.style.backgroundImage=`url(${t})`,e.addEventListener("dblclick",()=>{e.remove()}),e}function B(t){ue(x),t.forEach(e=>{const n=document.createElement("article");n.className="catalog-entry";const o=document.createElement("img");o.className="catalog-item",o.src=e.image,o.alt=e.name,o.width=60,o.height=60,o.title=e.name,o.draggable=!0,o.addEventListener("dragstart",r=>{r.dataTransfer.setData("text/plain",e.image)}),o.addEventListener("click",()=>{document.querySelectorAll(".catalog-item").forEach(r=>r.classList.remove("selected")),o.classList.add("selected"),k.item=e});const a=document.createElement("div");a.className="item-label",a.innerHTML=`<div><h3 class="catalog-categories-article-title">${e.name}</h3></div><div><p class="item-price">${e.price}$</p></div>`,n.appendChild(o),n.appendChild(a),x.appendChild(n)})}B(E);ne.addEventListener("input",t=>{oe.forEach(e=>e.style.backgroundColor=t.target.value)});for(let t=0;t<36;t++){const e=document.createElement("div");e.className="grid-cell",e.style.backgroundImage=`url('${Z}')`,e.addEventListener("click",()=>{if(k.item){const n=q(k.item.image);e.innerHTML="",e.appendChild(n)}}),e.addEventListener("dragover",n=>{n.preventDefault()}),e.addEventListener("drop",n=>{n.preventDefault();const o=n.dataTransfer.getData("text/plain"),a=q(o);e.innerHTML="",e.appendChild(a)}),te.appendChild(e)}document.querySelector("#save-btn").addEventListener("click",()=>{alert("Збереження ще в розробці!")});S.forEach(t=>{t.addEventListener("click",()=>{S.forEach(o=>o.classList.remove("active")),t.classList.add("active");const e=t.dataset.category,n=de(e);B(n)})});const me={dude:["./img/dude_walk_animation.png","./img/dude.png"],hog:["./img/hog_rider_walk_animation.png","./img/hog_rider.gif"],amogus:["./img/amogus_walk_animation.png","./img/amogus.png"]};let s=null,m=null;document.querySelectorAll(".character-option").forEach(t=>{t.addEventListener("click",function(){document.querySelectorAll(".character-option").forEach(e=>e.classList.remove("selected")),this.classList.add("selected"),s=this.getAttribute("data-character"),s.includes("dude")?m="dude":s.includes("hog")?m="hog":s.includes("amogus")&&(m="amogus")})});document.getElementById("add-character").addEventListener("click",function(){if(!s){alert("Оберіть персонажа!");return}const t=document.getElementById("room");t.querySelectorAll(".character").forEach(a=>a.remove());const e=document.createElement("img");e.src=s,e.className="character",e.dataset.characterType=m,t.appendChild(e);const n=(t.offsetWidth-e.offsetWidth)/2,o=(t.offsetHeight-e.offsetHeight)/2;e.style.left=`${n}px`,e.style.top=`${o}px`});function pe(t,e,n=300){let o=0;t._walkAnimInterval=setInterval(()=>{t.src=e[o],o=(o+1)%e.length},n)}function fe(t,e){t._walkAnimInterval&&(clearInterval(t._walkAnimInterval),t._walkAnimInterval=null),t.src=e}function ge(t,e,n,o,a,r=300){pe(t,o);const c=t.parentElement,i=parseFloat(t.style.left)||0,d=parseFloat(t.style.top)||0,p=e-i,f=n-d,M=Math.sqrt(p*p+f*f)/r*1e3;let g=null;function b(L){g||(g=L);const D=L-g,h=Math.min(D/M,1);let y=i+p*h,v=d+f*h;y=Math.max(0,Math.min(y,c.offsetWidth-t.offsetWidth)),v=Math.max(0,Math.min(v,c.offsetHeight-t.offsetHeight)),t.style.left=y+"px",t.style.top=v+"px",h<1?requestAnimationFrame(b):fe(t,a)}requestAnimationFrame(b)}document.getElementById("room").addEventListener("click",function(t){const e=this,n=e.querySelector(".character:last-child");if(n){const o=e.getBoundingClientRect();let a=t.clientX-o.left-n.offsetWidth/2,r=t.clientY-o.top-n.offsetHeight/2;a=Math.max(0,Math.min(a,e.offsetWidth-n.offsetWidth)),r=Math.max(0,Math.min(r,e.offsetHeight-n.offsetHeight));const c=n.dataset.characterType,i=me[c],d=i[1];ge(n,a,r,i,d,200)}});let u=!1;const _={light:{"--main-text-color":"#3E3E3E","--second-text-color":"#7A6F63","--main-bg-color":"#FFF9F0","--second-bg-color":"#FDF6E3","--hover-color":"#D6B87C","--ui-color":"#E8D9BF","--shadow-border-color":"#DDD2C4"},dark:{"--main-text-color":"#E1DEEA","--second-text-color":"#A69BB4","--main-bg-color":"#0E0B14","--second-bg-color":"#1A1524","--hover-color":"#A27BFF","--ui-color":"#5F4B8B","--shadow-border-color":"#1E1E1E"}};document.querySelector("#themeToggle").addEventListener("click",()=>{u=!u;const t=u?_.dark:_.light;for(const[e,n]of Object.entries(t))document.documentElement.style.setProperty(e,n);ee(u?V:H)});
