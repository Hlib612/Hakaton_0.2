(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();const B="/Hakaton_0.2/assets/bed-pixel-ae4cd8b7.png",D="/Hakaton_0.2/assets/table-pixel-263024ef.png",M="/Hakaton_0.2/assets/pixel-gamechair-dd4db119.png",N="/Hakaton_0.2/assets/tallWardrobe-a0049040.png",O="/Hakaton_0.2/assets/books-pixel-01a3f5fd.png",P="/Hakaton_0.2/assets/pixel-nightstand-061ec52c.png",W="/Hakaton_0.2/assets/pixel-computer-59721479.png",$="/Hakaton_0.2/assets/pixel-tv-2f8f765c.png",R="/Hakaton_0.2/assets/boombox-e7234035.png",X="/Hakaton_0.2/assets/pixel-flower-pot-8b293c3f.png",Y="/Hakaton_0.2/assets/pixel-cooler-bd0ea9fd.png",j="/Hakaton_0.2/assets/plant-92fc7360.png",K="/Hakaton_0.2/assets/gaimingSetup-aa9eaedc.png",U="/Hakaton_0.2/assets/chairWithCat-7266a7ca.png",z="/Hakaton_0.2/assets/bed-a7e7e7f8.png",q="/Hakaton_0.2/assets/parquet-4ba20018.png",G="/Hakaton_0.2/assets/parquet-dark-mode-81598140.png";let J=q;function Q(t){document.querySelectorAll(".grid-cell").forEach(n=>{n.querySelector(".furniture")||(n.style.backgroundImage=`url('${t}')`)})}const y=[{type:"furniture",price:499,name:"Ліжко",image:B},{type:"furniture",price:70,name:"Стіл",image:D},{type:"tech",price:1299,name:"Комп'ютер",image:W},{type:"decor",price:40,name:"Квітка",image:X},{type:"decor",price:259,name:"Кулер",image:Y},{type:"tech",price:759,name:"Телевізор",image:$},{type:"furniture",price:200,name:"Ігрове крісло",image:M},{type:"tech",price:150,name:"Бумбокс",image:R},{type:"decor",price:99,name:"Рослина",image:j},{type:"furniture",price:199,name:"Шафа",image:N},{type:"furniture",price:99,name:"Книжки",image:O},{type:"furniture",price:99,name:"Тумба",image:P},{type:"tech",price:1199,name:"ПК 2.0",image:K},{type:"furniture",price:197,name:"Крісло",image:U},{type:"furniture",price:256,name:"Крісло",image:z}],h={item:null},E=document.querySelector(".items"),V=document.querySelector(".grid"),Z=document.querySelector("#wallColor"),ee=document.querySelectorAll(".wall"),_=document.querySelector(".backdrop"),x=document.querySelector(".tutorial"),C=document.querySelector("#tipsContainer"),w=[document.querySelector("#tip1"),document.querySelector("#tip2"),document.querySelector("#tip3"),document.querySelector("#tip4")],te=document.querySelector("#nextTip"),ne=document.querySelector("#trueBtn"),oe=document.querySelector("#falseBtn"),b=document.querySelectorAll(".catalog-categories button");let i=0;function A(t){w.forEach((e,n)=>{e.classList.toggle("active",n===t)}),C.style.display="block"}function ae(){C.style.display="none"}function re(){_.style.display="block",x.style.display="flex"}function F(){_.style.display="none",x.style.display="none"}function ce(){i=0,F(),A(i)}window.onload=()=>{localStorage.getItem("visited")||re(),ne.addEventListener("click",()=>{F(),localStorage.setItem("visited","true")}),oe.addEventListener("click",()=>{ce()}),te.addEventListener("click",()=>{i++,i>=w.length?(ae(),localStorage.setItem("visited","true")):A(i)})};function se(t){return t==="all"?y:y.filter(e=>e.type===t)}function ie(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function L(t){const e=document.createElement("div");return e.className="furniture",e.style.backgroundImage=`url(${t})`,e.addEventListener("dblclick",()=>{e.remove()}),e}function H(t){ie(E),t.forEach(e=>{const n=document.createElement("article");n.className="catalog-entry";const o=document.createElement("img");o.className="catalog-item",o.src=e.image,o.alt=e.name,o.width=60,o.height=60,o.title=e.name,o.draggable=!0,o.addEventListener("dragstart",r=>{r.dataTransfer.setData("text/plain",e.image)}),o.addEventListener("click",()=>{document.querySelectorAll(".catalog-item").forEach(r=>r.classList.remove("selected")),o.classList.add("selected"),h.item=e});const a=document.createElement("div");a.className="item-label",a.innerHTML=`<div><h3 class="catalog-categories-article-title">${e.name}</h3></div><div><p class="item-price">${e.price}$</p></div>`,n.appendChild(o),n.appendChild(a),E.appendChild(n)})}H(y);Z.addEventListener("input",t=>{ee.forEach(e=>e.style.backgroundColor=t.target.value)});for(let t=0;t<36;t++){const e=document.createElement("div");e.className="grid-cell",e.style.backgroundImage=`url('${J}')`,e.addEventListener("click",()=>{if(h.item){const n=L(h.item.image);e.innerHTML="",e.appendChild(n)}}),e.addEventListener("dragover",n=>{n.preventDefault()}),e.addEventListener("drop",n=>{n.preventDefault();const o=n.dataTransfer.getData("text/plain"),a=L(o);e.innerHTML="",e.appendChild(a)}),V.appendChild(e)}document.querySelector("#save-btn").addEventListener("click",()=>{alert("Збереження ще в розробці!")});b.forEach(t=>{t.addEventListener("click",()=>{b.forEach(o=>o.classList.remove("active")),t.classList.add("active");const e=t.dataset.category,n=se(e);H(n)})});const le={dude:["../img/dude_walk_animation.png","../img/dude.png"],hog:["../img/hog_rider_walk_animation.png","../img/hog_rider.gif"],amogus:["../img/amogus_walk_animation.png","../img/amogus.png"]};function de(t,e,n=300){let o=0;t._walkAnimInterval=setInterval(()=>{t.src=e[o],o=(o+1)%e.length},n)}function ue(t,e){t._walkAnimInterval&&(clearInterval(t._walkAnimInterval),t._walkAnimInterval=null),t.src=e}function me(t,e,n,o,a,r=300){de(t,o);const c=parseFloat(t.style.left)||0,l=parseFloat(t.style.top)||0,m=e-c,p=n-l,T=Math.sqrt(m*m+p*p)/r*1e3;let g=null;function v(k){g||(g=k);const I=k-g,f=Math.min(I/T,1);t.style.left=c+m*f+"px",t.style.top=l+p*f+"px",f<1?requestAnimationFrame(v):ue(t,a)}requestAnimationFrame(v)}let s=null,u=null;document.querySelectorAll(".character-option").forEach(t=>{t.addEventListener("click",function(){document.querySelectorAll(".character-option").forEach(e=>e.classList.remove("selected")),this.classList.add("selected"),s=this.getAttribute("data-character"),s.includes("dude")?u="dude":s.includes("hog")?u="hog":s.includes("amogus")&&(u="amogus")})});document.getElementById("add-character").addEventListener("click",function(){if(!s){alert("Оберіть персонажа!");return}const t=document.getElementById("room");t.querySelectorAll(".character").forEach(n=>n.remove());const e=document.createElement("img");e.src=s,e.className="character",e.dataset.characterType=u,e.style.left="0px",e.style.top="0px",t.appendChild(e)});document.getElementById("room").addEventListener("click",function(t){const e=this.querySelector(".character:last-child");if(e){const n=this.getBoundingClientRect(),o=t.clientX-n.left-e.offsetWidth/2,a=t.clientY-n.top-e.offsetHeight/2,r=e.dataset.characterType,c=le[r],l=c[1];me(e,o,a,c,l,200)}});let d=!1;const S={light:{"--main-text-color":"#3E3E3E","--second-text-color":"#7A6F63","--main-bg-color":"#FFF9F0","--second-bg-color":"#FDF6E3","--hover-color":"#D6B87C","--ui-color":"#E8D9BF","--shadow-border-color":"#DDD2C4"},dark:{"--main-text-color":"#E1DEEA","--second-text-color":"#A69BB4","--main-bg-color":"#0E0B14","--second-bg-color":"#1A1524","--hover-color":"#A27BFF","--ui-color":"#5F4B8B","--shadow-border-color":"#1E1E1E"}};document.querySelector("#themeToggle").addEventListener("click",()=>{d=!d;const t=d?S.dark:S.light;for(const[e,n]of Object.entries(t))document.documentElement.style.setProperty(e,n);Q(d?G:q)});
