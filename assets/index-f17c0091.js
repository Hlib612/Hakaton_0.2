(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}})();const D="/Hakaton_0.2/assets/bed-pixel-ae4cd8b7.png",N="/Hakaton_0.2/assets/table-pixel-263024ef.png",$="/Hakaton_0.2/assets/pixel-gamechair-dd4db119.png",O="/Hakaton_0.2/assets/tallWardrobe-a0049040.png",P="/Hakaton_0.2/assets/books-pixel-01a3f5fd.png",X="/Hakaton_0.2/assets/pixel-nightstand-061ec52c.png",Y="/Hakaton_0.2/assets/pixel-computer-59721479.png",R="/Hakaton_0.2/assets/pixel-tv-2f8f765c.png",j="/Hakaton_0.2/assets/boombox-e7234035.png",K="/Hakaton_0.2/assets/pixel-flower-pot-8b293c3f.png",U="/Hakaton_0.2/assets/pixel-cooler-bd0ea9fd.png",z="/Hakaton_0.2/assets/plant-92fc7360.png",G="/Hakaton_0.2/assets/gaimingSetup-aa9eaedc.png",J="/Hakaton_0.2/assets/chairWithCat-7266a7ca.png",Q="/Hakaton_0.2/assets/bed-a7e7e7f8.png",q="/Hakaton_0.2/assets/parquet-4ba20018.png",V="/Hakaton_0.2/assets/parquet-dark-mode-81598140.png";let Z=q;function ee(t){document.querySelectorAll(".grid-cell").forEach(a=>{a.querySelector(".furniture")||(a.style.backgroundImage=`url('${t}')`)})}const v=[{type:"furniture",price:499,name:"Ліжко",image:D},{type:"furniture",price:70,name:"Стіл",image:N},{type:"tech",price:1299,name:"Комп'ютер",image:Y},{type:"decor",price:40,name:"Квітка",image:K},{type:"decor",price:259,name:"Кулер",image:U},{type:"tech",price:759,name:"Телевізор",image:R},{type:"furniture",price:200,name:"Ігрове крісло",image:$},{type:"tech",price:150,name:"Бумбокс",image:j},{type:"decor",price:99,name:"Рослина",image:z},{type:"furniture",price:199,name:"Шафа",image:O},{type:"furniture",price:99,name:"Книжки",image:P},{type:"furniture",price:99,name:"Тумба",image:X},{type:"tech",price:1199,name:"ПК 2.0",image:G},{type:"furniture",price:197,name:"Крісло",image:J},{type:"furniture",price:256,name:"Крісло",image:Q}],E={item:null},H=document.querySelector(".items"),te=document.querySelector(".grid"),ae=document.querySelector("#wallColor"),ne=document.querySelectorAll(".wall"),C=document.querySelector(".backdrop"),w=document.querySelector(".tutorial"),I=document.querySelector("#tipsContainer"),A=[document.querySelector("#tip1"),document.querySelector("#tip2"),document.querySelector("#tip3"),document.querySelector("#tip4")],oe=document.querySelector("#nextTip"),se=document.querySelector("#trueBtn"),re=document.querySelector("#falseBtn"),L=document.querySelectorAll(".catalog-categories button");let l=0;function T(t){A.forEach((e,a)=>{e.classList.toggle("active",a===t)}),I.style.display="block"}function ce(){I.style.display="none"}function ie(){C.style.display="block",w.style.display="flex"}function F(){C.style.display="none",w.style.display="none"}function le(){l=0,F(),T(l)}window.onload=()=>{localStorage.getItem("visited")||ie(),se.addEventListener("click",()=>{F(),localStorage.setItem("visited","true")}),re.addEventListener("click",()=>{le()}),oe.addEventListener("click",()=>{l++,l>=A.length?(ce(),localStorage.setItem("visited","true")):T(l)})};function de(t){return t==="all"?v:v.filter(e=>e.type===t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function x(t){const e=document.createElement("div");return e.className="furniture",e.style.backgroundImage=`url(${t})`,e.addEventListener("dblclick",()=>{e.remove()}),e}function B(t){ue(H),t.forEach(e=>{const a=document.createElement("article");a.className="catalog-entry";const n=document.createElement("img");n.className="catalog-item",n.src=e.image,n.alt=e.name,n.width=60,n.height=60,n.title=e.name,n.draggable=!0,n.addEventListener("dragstart",s=>{s.dataTransfer.setData("text/plain",e.image)}),n.addEventListener("click",()=>{document.querySelectorAll(".catalog-item").forEach(s=>s.classList.remove("selected")),n.classList.add("selected"),E.item=e});const o=document.createElement("div");o.className="item-label",o.innerHTML=`<div><h3 class="catalog-categories-article-title">${e.name}</h3></div><div><p class="item-price">${e.price}$</p></div>`,a.appendChild(n),a.appendChild(o),H.appendChild(a)})}B(v);ae.addEventListener("input",t=>{ne.forEach(e=>e.style.backgroundColor=t.target.value)});for(let t=0;t<36;t++){const e=document.createElement("div");e.className="grid-cell",e.style.backgroundImage=`url('${Z}')`,e.addEventListener("click",()=>{if(E.item){const a=x(E.item.image);e.innerHTML="",e.appendChild(a)}}),e.addEventListener("dragover",a=>{a.preventDefault()}),e.addEventListener("drop",a=>{a.preventDefault();const n=a.dataTransfer.getData("text/plain"),o=x(n);e.innerHTML="",e.appendChild(o)}),te.appendChild(e)}document.querySelector("#save-btn").addEventListener("click",()=>{alert("Збереження ще в розробці!")});L.forEach(t=>{t.addEventListener("click",()=>{L.forEach(n=>n.classList.remove("active")),t.classList.add("active");const e=t.dataset.category,a=de(e);B(a)})});const me="/Hakaton_0.2/assets/dude_walk_animation-82afe799.png",pe="/Hakaton_0.2/assets/dude-e02388aa.png",fe="/Hakaton_0.2/assets/hog_rider_walk_animation-a420c7bc.png",ge="/Hakaton_0.2/assets/hog_rider-fc114fba.gif",he="/Hakaton_0.2/assets/amogus_walk_animation-3b7ba63c.png",ye="/Hakaton_0.2/assets/amogus-5ef138a9.png",ke={dude:[me,pe],hog:[fe,ge],amogus:[he,ye]};let c=null,m=null;document.querySelectorAll(".character-option").forEach(t=>{t.addEventListener("click",function(){document.querySelectorAll(".character-option").forEach(e=>e.classList.remove("selected")),this.classList.add("selected"),c=this.getAttribute("data-character"),c.includes("dude")?m="dude":c.includes("hog")?m="hog":c.includes("amogus")&&(m="amogus")})});document.getElementById("add-character").addEventListener("click",function(){if(!c){alert("Оберіть персонажа!");return}const t=document.getElementById("room");t.querySelectorAll(".character").forEach(o=>o.remove());const e=document.createElement("img");e.src=c,e.className="character",e.dataset.characterType=m,e.style.position="absolute",t.appendChild(e);const a=(t.offsetWidth-e.offsetWidth)/2,n=(t.offsetHeight-e.offsetHeight)/2;e.style.left=`${a}px`,e.style.top=`${n}px`});function ve(t,e,a=300){let n=0;t._walkAnimInterval=setInterval(()=>{t.src=e[n],n=(n+1)%e.length},a)}function Ee(t,e){t._walkAnimInterval&&(clearInterval(t._walkAnimInterval),t._walkAnimInterval=null),t.src=e}function be(t,e,a,n,o,s=300){ve(t,n);const r=t.parentElement,i=parseFloat(t.style.left)||0,d=parseFloat(t.style.top)||0,p=e-i,f=a-d,M=Math.sqrt(p*p+f*f)/s*1e3;let g=null;function b(_){g||(g=_);const W=_-g,h=Math.min(W/M,1);let y=i+p*h,k=d+f*h;y=Math.max(0,Math.min(y,r.offsetWidth-t.offsetWidth)),k=Math.max(0,Math.min(k,r.offsetHeight-t.offsetHeight)),t.style.left=y+"px",t.style.top=k+"px",h<1?requestAnimationFrame(b):Ee(t,o)}requestAnimationFrame(b)}document.getElementById("room").addEventListener("click",function(t){const e=this,a=e.querySelector(".character:last-child");if(a){const n=e.getBoundingClientRect();let o=t.clientX-n.left-a.offsetWidth/2,s=t.clientY-n.top-a.offsetHeight/2;o=Math.max(0,Math.min(o,e.offsetWidth-a.offsetWidth)),s=Math.max(0,Math.min(s,e.offsetHeight-a.offsetHeight));const r=a.dataset.characterType,i=ke[r],d=i[1];be(a,o,s,i,d,200)}});let u=!1;const S={light:{"--main-text-color":"#3E3E3E","--second-text-color":"#7A6F63","--main-bg-color":"#FFF9F0","--second-bg-color":"#FDF6E3","--hover-color":"#D6B87C","--ui-color":"#E8D9BF","--shadow-border-color":"#DDD2C4"},dark:{"--main-text-color":"#E1DEEA","--second-text-color":"#A69BB4","--main-bg-color":"#0E0B14","--second-bg-color":"#1A1524","--hover-color":"#A27BFF","--ui-color":"#5F4B8B","--shadow-border-color":"#1E1E1E"}};document.querySelector("#themeToggle").addEventListener("click",()=>{u=!u;const t=u?S.dark:S.light;for(const[e,a]of Object.entries(t))document.documentElement.style.setProperty(e,a);ee(u?V:q)});
